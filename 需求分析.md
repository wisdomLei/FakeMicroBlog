# 需求分析
---
## 背景
计算机技术及信息技术的发展带动了整个行业的变化，智能化中台的发展将数据全部集中到云端进行百亿级的数据分析从而使得企业能够基于大数据进行产品的改善，同时，大数据结合人工智能的发展使低压开关可在安全检测上快人一步。
## 需求细节
### 前端：
1. 注册
    * 用户可以自行注册账号。
    * 注册需要输入用户名、密码、邮箱及邮箱接到的验证码。
        1. 用户名：由4~24位可接受的字符组成。
        1. 密码：由6~16位可接受的字符组成。
        1. 可接受字符：字母，数字，下划线
    * 对用户的输入进行判断，提示非法邮箱地址、非法密码及非法验证码。
    * 账号以邮箱区分，具有唯一性。
1. 登录
    * 输入用户名、密码及图片验证码登录。
    * 登录成功显示首页。
    * 登录失败提示失败信息显示登录界面。
    * 可以通过忘记密码功能找回密码。
1. 首页
    * 首页展示当前账号拥有台区信息
    * 首页通过一个WebSocket长连接实时显示各台区当前状态信息。
    * 通过点击账户显示账号详情。
    * 通过点击台区进入台区详情页。
    * 管理员及以上权限可以进入配置页面。
1. 账号详情
    * 显示账号详细信息。
    * 显示账号拥有模块信息。
    * 可以修改账号信息及密码。
    * 显示联系管理员信息。
1. 管理员配置页面
    * 管理员可以配置不同账号与模块的绑定信息。
    * 最高权限账号可以分配不同账号的管理员与非管理员权限。
    * 最高权限账号有且只有一个。
1. 权限
    * 有普通用户、管理员用户、最高权限用户三种。
    * 普通用户只能查看指定模块数据、发送配置信息及发送控制信息。
    * 管理员用户可以查看所有数据、分配普通用户能够查看的模块。
    * 最高权限用户可以分配管理员账户。
1. 模块
    * 台区：逻辑划分，同个账号可拥有多个台区，一个台区可属于多个用户，同时拥有多个产品。
    * 台区信息：启用状态、台区名称、地理位置、创建时间、备注、绑定产品、绑定账号。
    * 产品：产品隶属于台区，物理区分，每个产品以ID区分，具有唯一性，一个产品只属于一个台区。
    * 产品信息：12位唯一ID（YYYYMMDD（4位产品编号））、产品状态（多个）、产品配置（多个）、备注。
1. 台区配置
    * 显示台区详情并编辑。
    * 添加或删除绑定产品。
1. 产品详情
    * 查看产品信息及状态。
    * 查看并编辑产品配置。
### 后端
1. 产品
    * 产品通过MQTT协议定时向服务器上报状态数据。
    * 产品通过MQTT协议接受服务器下发的控制数据。
    * 上传、下发均为json字符串。
1. 